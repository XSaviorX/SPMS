
@{
    ViewBag.Title = "Office";
}
<style type="text/css">
    .table-hover > tbody > tr:hover {
        background-color: #e4ecf7;
    }

    .lg-btn-add-mfo {
        border: dashed 2px;
        font-size: 12px;
        padding: 10px;
        width: 300px;
        height: 100px;
        margin-top: 10px;
        border-color: lightgray;
        border-radius: 30px;
        white-space: normal;
        word-wrap: break-word;
    }

    .my-custom-scrollbar {
        position: relative;
        height: 80vh;
        overflow: auto;
    }

    .table-wrapper-scroll-y {
        display: block;
    }

    .lbl_opcrTableH {
        text-align: center;
    }

    sticky {
        position: sticky;
        top: 0;
    }

    .labelForm {
        font-family: 'Segoe UI';
        font-size: 16px;
    }

    .tableHeader {
        font-family: 'Segoe UI';
        font-size: 20px;
    }

    .selectFilter {
        /* for Firefox */
        padding-left: 5px;
        -moz-appearance: none;
        /* for Chrome */
        -webkit-appearance: none;
    }

    .rcorners1 {
        border-radius: 25px;
        z-index: 1;
        padding: 20px;
        width: 450px;
        position: absolute;
        padding-bottom: 60px;
        top: 40px;
        left: 20px;
        background-color: #F4F4F4
    }

    /* For IE10 */
    .selectFilter::-ms-expand {
        display: none;
    }

    /* LOADING SPINNER*/
    .lds-roller {
        display: inline-block;
        position: relative;
        width: 80px;
        height: 80px;
    }

        .lds-roller div {
            animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            transform-origin: 40px 40px;
        }

            .lds-roller div:after {
                content: " ";
                display: block;
                position: absolute;
                width: 7px;
                height: 7px;
                border-radius: 50%;
                background: #bec1c2;
                margin: -4px 0 0 -4px;
            }

            .lds-roller div:nth-child(1) {
                animation-delay: -0.036s;
            }

                .lds-roller div:nth-child(1):after {
                    top: 63px;
                    left: 63px;
                }

            .lds-roller div:nth-child(2) {
                animation-delay: -0.072s;
            }

                .lds-roller div:nth-child(2):after {
                    top: 68px;
                    left: 56px;
                }

            .lds-roller div:nth-child(3) {
                animation-delay: -0.108s;
            }

                .lds-roller div:nth-child(3):after {
                    top: 71px;
                    left: 48px;
                }

            .lds-roller div:nth-child(4) {
                animation-delay: -0.144s;
            }

                .lds-roller div:nth-child(4):after {
                    top: 72px;
                    left: 40px;
                }

            .lds-roller div:nth-child(5) {
                animation-delay: -0.18s;
            }

                .lds-roller div:nth-child(5):after {
                    top: 71px;
                    left: 32px;
                }

            .lds-roller div:nth-child(6) {
                animation-delay: -0.216s;
            }

                .lds-roller div:nth-child(6):after {
                    top: 68px;
                    left: 24px;
                }

            .lds-roller div:nth-child(7) {
                animation-delay: -0.252s;
            }

                .lds-roller div:nth-child(7):after {
                    top: 63px;
                    left: 17px;
                }

            .lds-roller div:nth-child(8) {
                animation-delay: -0.288s;
            }

                .lds-roller div:nth-child(8):after {
                    top: 56px;
                    left: 12px;
                }

    @@keyframes lds-roller {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>
<div ng-controller="MFOStandard" style=" margin: 10px" ng-init="loadIDS()">

    <div ng-if="currentOffice == ''">

        <center>
            <h1>SELECT OFFICE</h1>
            <div style="width: 600px">
                <input type="text" ng-model="search['officeNameShort']" placeholder="Search Office Name Short . . ." class="form-control" style="padding-left:30px" />

            </div>

            <div class="row">
                <div ng-repeat="office in offices | filter: search">
                    <div class="col-lg-3">
                        <button ng-click="setOffice(office.officeId)" class="btn lg-btn-add-mfo">
                            <span style="font-size:12px; color:dodgerblue">{{office.officeNameShort}}</span><br />
                            <span class="lg-txt-add-mfo">{{office.officeName}}</span>


                        </button>
                    </div>


                </div>
            </div>


            @*  <button ng-click="setDivivion('APRD')" class="btn lg-btn-add-mfo">
                    <span class="bi bi-plus-lg lg-txt-add-mfo">APRD</span>
                </button>&nbsp &nbsp &nbsp
                <button ng-click="setDivivion('CBD')" data-toggle="modal" class="btn lg-btn-add-mfo">
                    <span class="bi bi-plus-lg lg-txt-add-mfo">CBD</span>
                </button>&nbsp &nbsp &nbsp

                <button ng-click="setDivivion('HRDD')" data-toggle="modal" class="btn lg-btn-add-mfo">
                    <span class="bi bi-plus-lg lg-txt-add-mfo">HRDD</span>
                </button>&nbsp &nbsp &nbsp*@

        </center>
    </div>



    @*<div ng-if="mfoes.length == [] && currentOffice != ''">
        <center>
            <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
        </center>
    </div>*@
    <div ng-if="currentOffice != ''">
        <div class="card" style="width: 100%; ">
            <div class="row" style="width: 100%; height: 8vh; background-color: white; margin: 10px 0px 10px; padding: 15px">

                <div class="col-lg-1" style="width:50px">
                    <i ng-click="filterVisbility()" class="bi bi-filter btn btn-rounded" style="background-color: #f5f7fa; color: #84b3fa; font-size: 20px; padding: 5px 10px 5px 10px;"></i>
                </div>
                <div class="col-lg-2" ng-hide="filterShow">
                    <p style="margin-top: 10px">FILTER</p>
                </div>
                <div ng-show="filterShow">
                    <div class="col-lg-2">
                        <div class="box" style="border: solid; border-color: #EEEEEE; height: 36px; width: 232px; padding-left: 1px; border-radius: 5px;">
                            <i class="bi bi-search" style="background-color: #EEEEEE; padding: 6px; "></i>
                            <input ng-model="searchInput" placeholder="Search" style="width: 167px; height: 30px; border:none" class="no-border" />
                            <span ng-click="searchInput = undefined"><i class="bi bi-x" style="background-color: #EEEEEE; padding: 6px; "></i></span>

                            @*<input ng-model="searchInput" placeholder="Search" style="background-color: white; padding: 6px; " class="no-border" />*@
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="box" style="border: solid; border-color: #EEEEEE; height: 36px; width: 232px; padding-left: 1px; border-radius: 5px;">
                            <i class="bi bi-funnel" style="background-color: #EEEEEE; padding: 6px; "></i>
                            <select ng-model="categoryy" style="width: 150px; height: 30px; border:none" class="selectFilter">
                                <option value=""> Filter by Category </option>
                                <option value="1">Strategic Function</option>
                                <option value="2">Core Function</option>
                                <option value="3">Support Function</option>
                            </select>
                            <i class="bi bi-chevron-double-down"></i>
                            <span ng-click="dropdownClrCat()"><i class="bi bi-x" style="background-color: #EEEEEE; padding: 6px; "></i></span>
                        </div>
                    </div>
                </div>

            </div>
            <div class="table-responsive" style="display:block;">
                <div class="my-custom-scrollbar" style="height: 70vh">
                    <table class="table table-hover" style="background-color: white">
                        <thead class="bg-primary-300">
                            <tr style="background-color: white">
                                <th colspan="4">
                                    @*  <h4 style="color: black"><i class="bi bi-card-list"></i> <strong>LIST OF MFO</strong></h4>*@

                                </th>
                            </tr>
                            <tr class="tableHeader">
                                <th class="">
                                    MFO
                                </th>
                                <th class="">
                                    SUCCESS INDICATOR
                                </th>
                                <th>
                                    CATEGORY
                                </th>
                                <th class="">
                                    ACTIONS
                                </th>

                            </tr>
                        </thead>
                        <tbody class="labelForm">
                            <tr ng-repeat="item in mfoes | filter: {officeId: 'OFFPHRMONZ3WT7D'} | unique: 'MFOId' | filter: {categoryId:categoryy} | filter: {MFO: searchInput} | filter:{isCMFO: '!'}">
                                <td>
                                    <strong>{{item.MFO}} </strong>
                                </td>
                                <td>
                                    <table>
                                        <tbody ng-repeat="ind in mfoes | filter:{MFOId: item.MFOId} ">
                                            <tr>
                                                <td>- <strong>{{ind.target}}</strong> {{ind.indicator}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                    {{item.description}}
                                </td>
                                <td >
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <button class="btn btn-link">
                                                <i class="bi bi-pencil-square" style="color:dodgerblue; font-size:20px" ng-click="getAllSIbyMFO(item); f_editIndicators(item.MFOId)" data-toggle="modal" data-target="#editMFO_allSIForm"></i>
                                            </button>
                                        </div>
                                        <div class="col-lg-6">
                                            <button class="btn btn-link">
                                                <i class="bi bi-plus-lg" style="color: dodgerblue; font-size: 20px" ng-click="getAllSIbyMFO(item);loadAddnIndicators()" data-toggle="modal" data-target="#addnewIndicator"></i>
                                            </button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <hr />
        <button type="button" class="btn btn-primary" style="float: right;margin-right: 30px" data-toggle="modal" data-target="#addDivision">
            <i ng-click="loadData();setbtnSaveTapOnce()" style="color: white" class="bi bi-plus-lg"> DIVISION </i>
        </button>
        <button type="button" class="btn btn-primary" style="float: right;margin-right: 30px" data-toggle="modal" data-target="#addMFO">
            <i ng-click="loadData();setbtnSaveTapOnce()" style="color: white" class="bi bi-plus-lg"> ADD MFO </i>
        </button>   

        @*MODAL SECTION*@
        <!------------------------------------------------------------------------------------------>
        <!--Modal for editting MFO and all SI-->
        <div class="modal fade" id="editMFO_allSIForm" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true" onclose="">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: dodgerblue; padding: 20px">
                        <h5 class="modal-title" id="ModalTitle" style="color:white"><b>MFO and SI REQUEST UPDATE FORM</b></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="" style="margin-top: -10px; color: white">
                            <i class="icon icon-close2"></i>
                        </button>
                    </div>
                    <div class="modal-body">

                        <div class="form-group">
                            <br />
                            <label class="labelForm"><b>MFO Description</b></label>

                            <input type="text" ng-model="update_allSI.MFO" class="form-control" id="updateAll_MFODesc" />
                            <br />
                            <div class="row">
                                <div class="col-lg-4">
                                    <label class="labelForm"><b>Year</b></label>
                                </div>
                                <div class="col-lg-4">
                                    <label class="labelForm"><b>Semester</b></label>
                                </div>
                                <div class="col-lg-4">
                                    <label class="labelForm"><b>Classification</b></label>
                                </div>
                            </div>
                            <div class="row" style="margin-bottom:10px">
                                <div class="col-lg-4">
                                    <select class="form-control textSize" id="selectedYear" ng-model="update_allSI.year" onchange="" style="width: 100%">
                                        <option ng-selected="{{item_year.selected == true}}" ng-repeat="item_year in year" ng-value="{{item_year.val}}">{{item_year.val}}</option>
                                    </select>
                                </div>
                                <!-------->
                                <div class="col-lg-4">
                                    <select class="form-control textSize" id="selectedSemester" ng-model="update_allSI.semester" onchange="" style="width: 100%">
                                        <option id="opt_selectFirstSem" ng-selected="{{update_allSI.semester==1}}" ng-value="{{1}}">First Semester</option>
                                        <option id="opt_selectSecndSem" ng-selected="{{update_allSI.semester==2}}" ng-value="{{2}}">Second Semester</option>
                                    </select>
                                </div>
                                <!-------->
                                <div class="col-lg-4">
                                    <select class="form-control textSize" id="selectedClass" ng-model="update_allSI.classificationId" onchange="" style="width: 100%" disabled>
                                        <option></option>
                                        <option selected="{{update_allSI.classificationId}}" ng-repeat="item in classifications" id="" value="{{item.classificationId}}"> {{item.classification}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-1">
                                    <label><b>Category:</b></label>
                                </div>


                                <div class="col-lg-2">
                                    <div class="form-check">
                                        <input type="radio" name="category" id="category1" value="1" ng-model="update_allSI.categoryId">
                                        <label class="form-check-label" for="flexRadioDefault1">
                                            Strategic Function
                                        </label>
                                    </div>

                                </div>
                                <div class="col-lg-2">
                                    <div class="form-check">
                                        <input type="radio" name="category" id="category2" value="2" ng-model="update_allSI.categoryId">
                                        <label class="form-check-label" for="flexRadioDefault2">
                                            Core Function
                                        </label>
                                    </div>

                                </div>
                                <div class="col-lg-2">
                                    <div class="form-check">
                                        <input type="radio" name="category" id="category3" value="3" ng-model="update_allSI.categoryId">
                                        <label class="form-check-label" for="flexRadioDefault3">
                                            Support Function
                                        </label>
                                    </div>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <label style="margin-top:10px;"><b>Success Indicator/s</b></label>
                                    @* <button ng-click="addIndicatorField_update()" class="btn btn-link"><i class="icon icon-add"></i></button>*@
                                </div>
                            </div>
                            <div class="row labelForm">
                                <div class="col-lg-3">
                                    <div class="row">
                                        <div class="col-lg-3">
                                            <label> Shared </label>
                                        </div>
                                        <div class="col-lg-7">
                                            <label> Target Count </label>
                                        </div>
                                        <div class="col-lg-1">
                                            <label> Unit </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <label> Description </label>
                                </div>
                                <div class="col-lg-3">
                                    <div class="row">
                                        <div class="col-lg-3">

                                        </div>
                                        <div class="col-lg-9">
                                            Division
                                        </div>
                                    </div>
                                </div>


                            </div>

                            <div ng-repeat="newInd in updateMFO_allSI " class="">

                                <div class="card" style="margin-bottom: 10px">
                                    <div class="card-header" id="headingOne">
                                        <div>
                                            <div class='row'>
                                                <div class='col-lg-3'>
                                                    <div class="row">
                                                        <div class="col-lg-3 no-margin-right">
                                                            <input type="checkbox" ng-model="newInd.isShared" class="form-control bg-primary" style="margin: auto; margin-top: 5px; padding: 5px; text-align: center; height: 20px; width: 20px" ng-true-value="1" ng-false-value="0" />
                                                        </div>
                                                        <div class="col-lg-7 no-margin-right">
                                                            <input type="text" ng-model="newInd.target" class="form-control" placeholder="Target" ng-change="{{autoComputeStandard(newInd[0].target, newInd[$index].indicatorId, newInd[0].targetUnit)}}" style="text-align: center" />
                                                        </div>
                                                        <div class="col-lg-1">
                                                            <select class="btn bg-white btn-icon dropdown-toggle" ng-model="newInd.targetUnit" style="color:black; font-size: 14px">
                                                                <option value="%">%</option>
                                                                <option value="#">#</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class='col-lg-6'>
                                                    <input type="text" ng-model="newInd.indicator" class="form-control" id="addIndicator" placeholder="Description">
                                                </div>
                                                <div class='col-lg-3'>
                                                    <div class="row">
                                                        <div class="col-lg-3">
                                                            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#c{{newIndicator.length - $index}}" aria-expanded="false" aria-controls="collapseExample">
                                                                <i class="icon-arrow-down12"></i>
                                                            </button>
                                                        </div>

                                                        <div class="col-lg-9" ng-hide="newInd.isShared">
                                                            <select class="form-control" id="selectedOffice" onchange="" style="width: 100%" ng-model="newInd.tgt_divisionId">
                                                                <option></option>
                                                                <option ng-repeat="item in divisions" id="" value="{{item.divisionId}}"> {{item.divisionName}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <!--<div class='row'>
                                                <div class="col-lg-3 no-margin-right">
                                                    <input type="checkbox" ng-model="newInd.isShared" class="form-control" style="margin-left:5px;padding:5px;text-align: center; height: 30px; width: 30px" ng-true-value="1" ng-false-value="0" />
                                                </div>
                                                <div class='col-lg-2'>
                                                    <input type="text" ng-model="newInd.target" class="form-control" id="addIndicator2" placeholder="Target" ng-change="{{autoComputeStandard(newInd.target, newInd.indicatorId)}}" style="text-align: center" />-->
                                                    @*  <button type="button" class="btn bg-teal-400 dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>*@
                                                <!--</div>
                                                <div class='col-lg-7'>
                                                    <input type="text" ng-model="newInd.indicator" class="form-control" id="addIndicator" placeholder="Description">
                                                </div>
                                                <div class='col-lg-1'>
                                                    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#c{{newIndicator.length - $index}}" aria-expanded="false" aria-controls="collapseExample">
                                                        <i class="icon-arrow-down12"></i>
                                                    </button>
                                                </div>-->
                                                @*<input  type="text" class="" id="" ng-model="newInd.indicatorId" >*@
                                            <!--</div>-->
                                        </div>
                                    </div>
                                </div>

                                <div id="c{{newIndicator.length - $index}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

                                    <div class="card" style="border-bottom: 1px solid ; margin-top: 10px; margin-bottom: 10px ">
                                        <div class="card-body">
                                            <table class="table table-striped">
                                                <thead>
                                                    <tr>
                                                        <td>
                                                            Rating
                                                        </td>
                                                        <td>
                                                            Quantity
                                                        </td>
                                                        <td>
                                                            Quality
                                                        </td>
                                                        <td>
                                                            Timeliness
                                                        </td>
                                                    </tr>

                                                </thead>

                                                <tbody>
                                                    <tr ng-repeat="performance in editIndicator | filter: {indicatorId : newInd.indicatorId} | filter: {targetId: newInd.targetId}">

                                                        <td>
                                                            <input type="text" ng-model="performance.rating" name="rate" class="no-border" readonly="readonly" />
                                                        </td>
                                                        <td>
                                                            <input ng-model="performance.quantity" class="form-control no-border" name="quantity" type="text" id="{{newInd.indicatorId}}quantity{{5 - $index}}" placeholder="" />
                                                        </td>
                                                        <td>
                                                            <input ng-model="performance.quality" class="form-control" name="quality" />
                                                        </td>
                                                        <td>
                                                            <input ng-model="performance.timeliness" class="form-control" name="timeliness" />
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="">CLOSE</button>
                                @* <button type="button" class="btn btn-primary" ng-click="sendRequest(updateMFO_allSI, updatecatMFO, editIndicator,dateToday | date)">PROCEED</button>*@
                                <button type="button" class="btn btn-primary" ng-click="sendRequest(update_allSI, updateMFO_allSI, editIndicator,dateToday | date)">UPDATE</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-------------------------------------------------------------------->
        @*Modal for Adding MFOes and SI*@

        <div class="modal fade" id="addMFO" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: dodgerblue; padding: 20px">
                        <h5 class="modal-title" id="ModalTitle" style="color:white"><strong>MFO REGISTRATION FORM</strong></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="" style="margin-top: -10px; color: white">
                            <i class="icon icon-close2"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card" style="border-radius: 15px;">
                            <div class="card-body">
                                <form>
                                    <div class="form-group">
                                        <label class="labelForm"><b>Offices</b></label>
                                        <select class="form-control" id="selectedOffice" onchange="" style="width: 100%" ng-model="catMFO.officeId" disabled>
                                            <option></option>
                                            <option ng-repeat="item in offices" id="" value="{{item.officeId}}"> {{item.officeName}}</option>
                                        </select>

                                        <div class="row" style="padding-top: 10px">
                                            <div class="col-lg-3">
                                                <label class="labelForm"><b>Year</b></label>
                                            </div>
                                            <div class="col-lg-3">
                                                <label class="labelForm"><b>Semester</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <label class="labelForm"><b>Classification</b></label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3">
                                                <select class="form-control textSize" id="selectedYear" ng-model="catMFO.year" onchange="" style="width: 100%">
                                                    <option value="2020">2020</option>
                                                    <option value="2021">2021</option>
                                                    <option value="2022">2022</option>
                                                    <option value="2023">2023</option>
                                                    <option value="2024">2024</option>
                                                </select>
                                            </div>
                                            <!-------->
                                            <div class="col-lg-3">
                                                <select class="form-control textSize" id="selectedSemester" ng-model="catMFO.semester" onchange="" style="width: 100%">
                                                    <option value="1">First Semester</option>
                                                    <option value="2">Second Semester</option>
                                                </select>
                                            </div>
                                            <!-------->
                                            <div class="col-lg-6">
                                                <div class="col-lg-10">
                                                    <input type="text" class="form-control" ng-model="catMFO.classificationId" data-toggle="collapse" data-target="#show_Classification" readonly="readonly" ng-value="catMFO.classification" />
                                                </div>
                                                <div class="col-lg-2">
                                                    <a class="btn btn-rounded btn-success" data-toggle="collapse" data-target="#add_Classification"><i class="bi bi-plus-lg"></i></a>
                                                </div>

                                                <!------------------- SHOW CLASSIFICATION-------------------------->

                                                <div class="collapse rcorners1" id="show_Classification">
                                                    <div>
                                                        <i class="bi bi-search" style="background-color: #EEEEEE; padding: 6px; position: absolute; left: 22px; top: 22px"></i>
                                                        <input type="text" ng-model="searchClass['classification']" placeholder="Search  . . ." class="form-control" style="padding-left:30px" />
                                                        <span ng-click="searchClass = undefined"><i class="bi bi-x" style="background-color: #EEEEEE; padding: 6px; position: absolute; right: 22px; top: 22px"></i></span>

                                                    </div>
                                                    <br />
                                                    <table class="table table-striped table-hover table-responsive" style="display: block; height: 300px; overflow-y: scroll;">
                                                        <tbody ng-repeat="item in classifications | filter: searchClass">
                                                            <tr ng-click="catMFO.classification = item.classification; catMFO.classificationId = item.classificationId; searchClass = undefined" data-toggle="collapse" data-target="#show_Classification" ng-style="item.classificationId ==  catMFO.classificationId ? myStyle={'background-color':'#e4ecf7'}:''">
                                                                <td style="width: 500px">
                                                                    {{item.classification}}
                                                                </td>
                                                                <td style="width: 30px">
                                                                    <a data-toggle="collapse" data-target="#update_Classification">
                                                                        <i class="bi bi-pencil-square" style="color: dodgerblue; font-size: 15px;"></i>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>


                                                    <div class="pt-10" style="position:absolute; right: 20px">
                                                        <a class="btn btn-danger" data-toggle="collapse" data-target="#show_Classification">Close</a>

                                                    </div>
                                                </div>

                                                <!------------------- ADD CLASSIFICATION-------------------------->
                                                <div class="collapse rcorners1" id="add_Classification">
                                                    <label class="pt-10">Classification:</label><br />
                                                    <textarea ng-model="classification" class="form-control">

                                                         </textarea>

                                                    <div class="pt-10" style="position:absolute; right: 20px">
                                                        <a class="btn btn-danger" data-toggle="collapse" data-target="#add_Classification">Close</a>
                                                        <a ng-click="addClassification(classification)" class="btn btn-primary">Submit</a>
                                                    </div>
                                                </div>


                                                <!------------------- UPDATE CLASSIFICATION-------------------------->
                                                <div class="collapse rcorners1" id="update_Classification">
                                                    <label class="pt-10">Classification:</label><br />
                                                    <textarea ng-model="catMFO.classification" class="form-control">

                                                         </textarea>

                                                    <div class="pt-10" style="position:absolute; right: 20px">
                                                        <a class="btn btn-danger" data-toggle="collapse" data-target="#update_Classification">Close</a>
                                                        <a ng-click="updateClassification(catMFO); catMFO.classification = catMFO.classification" class="btn btn-primary" data-toggle="collapse" data-target="#update_Classification">Update</a>
                                                    </div>
                                                </div>


                                            </div>
                                        </div>
                                        @*<label class="labelForm" style="margin-top: 10px"><b>General Funds / Programs</b></label>
                                        <select class="form-control" id="selectedProgram" onchange="getSelectedProgram()" style="width: 100%" ng-model="listOfPrograms" required>
                                            <option></option>
                                            <option ng-repeat="progs in programs" value="{{progs.programId}}">{{progs.programName}}</option>
                                        </select>

                                        <label class="labelForm" style="margin-top: 10px"><b>Projects</b></label>
                                        <select class="form-control" id="selectedProject" style="width: 100%" ng-model="listOfProjects.appropProjectId1" onchange="" required>
                                            <option></option>
                                            <option ng-repeat="projs in projects" value="{{projs.appropProjectId1}}"> {{projs.projectName}}</option>
                                        </select>*@
                                        @*<input type="text" ng-model="AssignedAppropProjID.appropProjectId" id="lbl_appropriateID" class="hidden">*@

                                        <br />
                                        <input type="hidden" value="0" id="idnum">
                                        <label class="labelForm"><b>MFO Description</b></label>
                                        <input type="text" ng-model="newMFO.MFO" class="form-control" name="addMFO" required /><br />
                                        <div class="row labelForm">
                                            <div class="col-lg-1">
                                                <label class="labelForm"><b>Category:</b></label>
                                            </div>


                                            <div class="col-lg-2">
                                                <div class="form-check">
                                                    <input class="form-check-input" ng-model="catMFO.categoryId" type="radio" name="category" id="category1" value="1">
                                                    <label class="form-check-label" for="flexRadioDefault1">
                                                        Strategic Function
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="col-lg-2">
                                                <div class="form-check">
                                                    <input class="form-check-input" ng-model="catMFO.categoryId" type="radio" name="category" id="category2" value="2">
                                                    <label class="form-check-label" for="flexRadioDefault2">
                                                        Core Function
                                                    </label>
                                                </div>

                                            </div>

                                            <div class="col-lg-3">
                                                <div class="form-check">
                                                    <input class="form-check-input" ng-model="catMFO.categoryId" type="radio" name="category" id="category3" value="3">
                                                    <label class="form-check-label" for="flexRadioDefault3">
                                                        Support Function
                                                    </label>
                                                </div>
                                            </div>

                                        </div>


                                        <div class="row">
                                            <div class="col-lg-9 labelForm">
                                                <label style="margin-top:10px;"><b>Success Indicator/s</b></label>
                                                <button ng-click="addIndicatorField()" class="btn btn-link"><i class="icon icon-add"></i></button>
                                                <button ng-click="removeIndicatorField()" class="btn btn-link"><i class="icon icon-trash"></i></button>
                                            </div>

                                        </div>
                                        <div class="row labelForm">
                                            <div class="col-lg-3">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        <label> Shared </label>
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <label> Target Count </label>
                                                    </div>
                                                    <div class="col-lg-1">
                                                        <label> Unit </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <label> Description </label>
                                            </div>
                                            <div class="col-lg-3">
                                                <div class="row">
                                                    <div class="col-lg-3">

                                                    </div>
                                                    <div class="col-lg-9">
                                                        Division
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                        <div ng-repeat="newInd in newIndicator" class="labelForm">

                                            <div class="card" style="margin-bottom: 10px">
                                                <div class="card-header" id="headingOne">
                                                    <div>
                                                        <div class='row'>
                                                            <div class='col-lg-3'>
                                                                <div class="row">
                                                                    <div class="col-lg-3 no-margin-right">
                                                                        <input type="checkbox" ng-model="newInd[0].isShared" class="form-control" style="margin:auto;margin-top:5px;padding:5px;text-align: center; height: 20px; width: 20px" ng-true-value="1" ng-false-value="0" />
                                                                    </div>
                                                                    <div class="col-lg-7 no-margin-right">
                                                                        <input type="text" ng-model="newInd[0].target" class="form-control" id="addIndicator2" placeholder="Target" ng-change="{{autoComputeStandard(newInd[0].target, newInd[$index].indicatorId, newInd[0].targetUnit)}}" style="text-align: center" />
                                                                    </div>
                                                                    <div class="col-lg-1">
                                                                        <select class="btn bg-white btn-icon dropdown-toggle" ng-model="newInd[0].targetUnit" style="color:black; font-size: 14px">
                                                                            <option value="%">%</option>
                                                                            <option value="#">#</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class='col-lg-6'>
                                                                <input type="text" ng-model="newInd[0].indicator" class="form-control" id="addIndicator" placeholder="Description">
                                                            </div>
                                                            <div class='col-lg-3'>
                                                                <div class="row">
                                                                    <div class="col-lg-3">
                                                                        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#b{{$index}}" aria-expanded="false" aria-controls="collapseExample">
                                                                            <i class="icon-arrow-down12"></i>
                                                                        </button>
                                                                    </div>

                                                                    <div class="col-lg-9" ng-hide="newInd[0].isShared">
                                                                        <select class="form-control" id="selectedOffice" onchange="" style="width: 100%" ng-model="newInd[0].divisionId">
                                                                            <option></option>
                                                                            <option ng-repeat="item in divisions" id="" value="{{item.divisionId}}"> {{item.divisionName}}</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @*<input  type="text" class="" id="" ng-model="newInd.indicatorId" >*@
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="b{{$index}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

                                                <div class="card" style="border-bottom: 1px solid ; margin-top: 10px; margin-bottom: 10px ">
                                                    <div class="card-body">
                                                        <table class="table table-striped ">
                                                            <thead>
                                                                <tr>
                                                                    <td>
                                                                        Rating
                                                                    </td>
                                                                    <td>
                                                                        Quantity
                                                                    </td>
                                                                    <td>
                                                                        Quality
                                                                    </td>
                                                                    <td>
                                                                        Timeliness
                                                                    </td>
                                                                </tr>

                                                            </thead>

                                                            <tbody>
                                                                <tr ng-repeat="performance in newInd">

                                                                    <td>
                                                                        <input type="text" ng-model="performance.rating" name="rate" class="no-border" readonly="readonly" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="performance.quantity" class="form-control no-border" name="quantity" type="text" readonly="readonly" id="{{performance.indicatorId}}quantity{{5 - $index}}" placeholder="" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="performance.quality" class="form-control" name="quality" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="performance.timeliness" class="form-control" name="timeliness" />
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button id="btn_save" type="submit" class="btn btn-primary" ng-click="insertMFO(newMFO,catMFO)">SAVE</button>

                                            @*<button type="submit" class="btn btn-primary" ng-click="trySave(newIndicator)">SAVE</button>*@
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        @* dasdas *@
                    </div>
                </div>
            </div>
        </div>

        <!-------------------------------------------------------------------->
        @*Modal for Adding DIVSION*@

        <div class="modal fade" id="addDivision" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
            <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: dodgerblue; padding: 20px">
                        <h5 class="modal-title" id="ModalTitle" style="color:white"><strong>DIVISION REGISTRATION FORM</strong></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="" style="margin-top: -10px; color: white">
                            <i class="icon icon-close2"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card" style="border-radius: 15px;">
                            <div class="card-body">
                                <form>
                                    <div class="form-group">

                                        <br />
                                        <label class="labelForm"><b>Division Name</b></label>
                                        <input ng-model="divname" type="text" class="form-control" />
                                        <br />

                                        <button id="btn_save" type="submit" class="btn btn-primary form-control" ng-click="divisionAdd(divname)">SAVE</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-------------------------------------------------------------------->

        <div class="modal fade" id="addnewIndicator" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document" >
                <div class="modal-content">

                    <div class="modal-header" style="background-color: dodgerblue; padding: 20px">
                        <div class="row">
                            <h5 class="modal-title" id="ModalTitle" style="color:white"><strong>SUCCESS INDICATOR ADDING FORM</strong></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="" style="margin-top: -10px; color: white">
                                <i class="icon icon-close2"></i>
                            </button>
                        </div>
                    </div>

                    <div class="modal-body">
                        <div class="card" style="border-radius: 15px;">
                            <div class="card-body">
                                <form>
                                    <div class="form-group">
                                        <br />
                                        <input type="hidden" value="0" id="idnum">
                                        <label class="labelForm"><strong>MFO Description</strong></label>
                                        <input type="text" ng-model="update_allSI.MFO" class="form-control no-border" required readonly style="background-color: white; font-size: 20px" /><br />

                                        <div class="row">
                                            <div class="col-lg-9 labelForm">
                                                <label style="margin-top:10px;"><b>Success Indicator/s</b></label>
                                                <button ng-click="addIndicatorField_update()" class="btn btn-link"><i class="icon icon-add"></i></button>
                                            </div>
                                        </div>

                                        <div class="row labelForm">
                                            <div class="col-lg-3">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        <label> Shared </label>
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <label> Target Count </label>
                                                    </div>
                                                    <div class="col-lg-1">
                                                        <label> Unit </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <label> Description </label>
                                            </div>
                                            <div class="col-lg-3">
                                                <div class="row">
                                                    <div class="col-lg-3">

                                                    </div>
                                                    <div class="col-lg-9">
                                                        Division
                                                    </div>
                                                </div>
                                            </div>


                                        </div>

                                        <div ng-repeat="addnewInd in nIndicators" class="labelForm">
                                            <div class="card" style="margin-bottom: 10px">
                                                <div class="card-header" id="headingOne">
                                                    <div>
                                                        <div class='row'>
                                                            <div class='col-lg-3'>
                                                                <div class="row">
                                                                    <div class="col-lg-3 no-margin-right">
                                                                        <input type="checkbox" ng-model="addnewInd[0].isShared" class="form-control" style="margin: auto; margin-top: 5px; padding: 5px; text-align: center; height: 20px; width: 20px" ng-true-value="1" ng-false-value="0" />
                                                                    </div>
                                                                    <div class="col-lg-7 no-margin-right">
                                                                        <input type="text" ng-model="addnewInd[0].target" class="form-control" id="addIndicator2" placeholder="Target" ng-change="{{autoComputeStandard(addnewInd[0].target, addnewInd[$index].indicatorId, addnewInd[0].targetUnit)}}" style="text-align: center" />
                                                                    </div>
                                                                    <div class="col-lg-1">
                                                                        <select class="btn bg-white btn-icon dropdown-toggle" ng-model="addnewInd[0].targetUnit" style="color:black; font-size: 14px">
                                                                            <option value="%">%</option>
                                                                            <option value="#">#</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class='col-lg-6'>
                                                                <input type="text" ng-model="addnewInd[0].indicator" class="form-control" id="addIndicator" placeholder="Description">
                                                            </div>
                                                            <div class='col-lg-3'>
                                                                <div class="row">
                                                                    <div class="col-lg-3">
                                                                        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#d{{newindicators.length - $index}}" aria-expanded="false" aria-controls="collapseExample">
                                                                            <i class="icon-arrow-down12"></i>
                                                                        </button>
                                                                    </div>

                                                                    <div class="col-lg-9" ng-hide="addnewInd[0].isShared">
                                                                        <select class="form-control" id="selectedOffice" onchange="" style="width: 100%" ng-model="newInd[0].divisionId">
                                                                            <option></option>
                                                                            <option ng-repeat="item in divisions" id="" value="{{item.divisionId}}"> {{item.divisionName}}</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @*<input  type="text" class="" id="" ng-model="newInd.indicatorId" >*@
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                           

                                            <div id="d{{newindicators.length - $index}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

                                                <div class="card" style="border-bottom: 1px solid ; margin-top: 10px; margin-bottom: 10px ">
                                                    <div class="card-body">
                                                        <table class="table table-striped">
                                                            <thead>
                                                                <tr>
                                                                    <td>
                                                                        Rating
                                                                    </td>
                                                                    <td>
                                                                        Quantity
                                                                    </td>
                                                                    <td>
                                                                        Quality
                                                                    </td>
                                                                    <td>
                                                                        Timeliness
                                                                    </td>
                                                                </tr>

                                                            </thead>

                                                            <tbody>
                                                                <tr ng-repeat="perf in addnewInd | filter: {indicatorId: addnewInd.indicatorId}">

                                                                    <td>
                                                                        <input type="text" ng-model="perf.rating" name="Addrating" class="no-border" readonly="readonly" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="perf.quantity" class="form-control no-border" name="Addquantity" type="text" readonly="readonly" id="{{perf.indicatorId}}quantity{{5 - $index}}" placeholder="" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="perf.quality" class="form-control" name="Addquality" />
                                                                    </td>
                                                                    <td>
                                                                        <input ng-model="perf.timeliness" class="form-control" name="Addtimeliness" />
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button id="btn_save" type="submit" class="btn btn-primary" ng-click="updateMFO_allSIbyID(nIndicators,update_allSI)" style="margin-right:15px"><i class="icon icon-plus2"></i> &nbsp; ADD</button>

                                            @*<button type="submit" class="btn btn-primary" ng-click="trySave(newIndicator)">SAVE</button>*@
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!---------------------------------------------------------------------->

</div>
<script>

    function delIndicatorField() {
        var counter = $('#idnum').val();
        for (; counter > 1; counter--) {
            $('#addtarget' + counter).remove();
            $('#addIndicator' + counter).remove();
            $('#idnum').val(counter - 1);
        }
    }
    function setIDVal(txtID) {
        alert(txtID);
        document.getElementById('textID').value = txtID;
    }

    function getSelectedOffice() {
        var officeID = document.getElementById('selectedOffice').value;
        angular.element(document.getElementById('selectedOffice')).scope().getPrograms(officeID);
    }

    function getSelectedProgram() {
        var programID = document.getElementById('selectedProgram').value;
        angular.element(document.getElementById('selectedProgram')).scope().getProjects(programID);
    }
    function getSelectedProject() {
        var projectID = document.getElementById('selectedProject').value;
        angular.element(document.getElementById('selectedProject')).scope().getAppropriateProjID(projectID);
    }

</script>
@section JavaScript{
    <script src="~/Scripts/AngularJS/MFOStandard/Office.js"></script>


}

