@{
    ViewBag.Title = "Publication";
}

<link href="~/Content/assets/plugins/select2/select2.min.css" rel="stylesheet" />
<link href="~/Content/assets/plugins/toastr/toastr.min.css" rel="stylesheet" />
<style>
    .page-title {
        padding: 20px 36px 10px 0;
        display: block;
        position: relative;
    }

    .tbl-sm > tbody > tr > td, .tbl-sm > tbody > tr > th, .tbl-sm > thead > tr > td {
        padding: 5px 20px;
        line-height: 1.5384616;
        vertical-align: middle;
    }

    .divScroll {
        height: 400px;
        overflow-y: scroll;
    }
</style>

<div ng-controller="SALN">
    <!-- Page header -->
    <div class="page-header">
        <div class="page-header-content">
            <div class="page-title">
                <h4><i class="icon-books"></i> <span class="text-semibold">STATEMENT OF ASSETS LIABILITIES & NETWORTH (SALN)</span> </h4>
            </div>
            <div class="heading-elements">

            </div>
        </div>

        <!-- Toolbar -->
        <div class="navbar navbar-default navbar-component navbar-xs">
            <ul class="nav navbar-nav visible-xs-block">
                <li class="full-width text-center"><a data-toggle="collapse" data-target="#navbar-filter"><i class="icon-menu7"></i></a></li>
            </ul>
            <div class="navbar-collapse collapse" id="navbar-filter">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#pending" data-toggle="tab"><i class="icon-clipboard3 position-left"></i> SALN 2020</a></li>
                    @*<li><a href="#posted" data-toggle="tab"><i class="icon-clipboard2 position-left"></i> Unassign Emloyee</a></li>*@

                </ul>
                <div class="navbar-right">
                    <ul class="nav navbar-nav">
                        @*<li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="icon-file-plus position-left"></i>
                                Add New
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li ng-click="modalPerformanceRating()"><a href="#"><i class="icon-file-text2"></i> Entry</a></li>
                            </ul>
                        </li>*@
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-gear"></i> Options<span class="visible-xs-inline-block position-right"> </span> <span class="caret"></span></a>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li ng-click="modalSelectDepartment()"><a href="#"><i class="icon-clippy"></i> Select Department</a></li>
                                <li ng-click="printSALNReport()"><a href="#"><i class="icon-printer"></i> Print Report</a></li>
                                <li class="divider"></li>
                                <li ng-click="modalAddEmployee()"><a href="#"><i class="icon-file-plus"></i> Add Employee</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /toolbar -->

    </div>



    <!-- Content area -->
    <div class="content">
        <!-- User profile -->
        <div class="row">

            <div class="col-lg-12">
                <div class="tabbable">
                    <div class="tab-content">

                        <!-- PUBLICATION -->
                        <div class="tab-pane fade in active" id="pending">

                            <!-- LIST -->
                            @*<div class="panel panel-flat">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">  SALN ENTRY FORM <span class="text-blue-800">{{workGroupData.workGroupName}}</span>  <span class="pull-right text-blue-800 cursor-pointer">
                                            <i class="icon-close2"></i>
                                        </span></h5>

                                    </div>
                                    <div class="panel-body">


                                        <div class="form-group">
                                            <div class="row">

                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <label class="text-grey-800 no-margin-bottom">EMPLOYEE <span class="text-danger">*</span></label>
                                                            <select class="form-control select2 select-Custom text-semibold text-size-large text-grey-800" ng-model="departmentCode" style="width:100%;" ng-disabled="loadingState"
                                                                    ng-options="c.EIC as c.fullNameLast for c in emps" value="{{c.EIC}}"
                                                                    id="employee">
                                                                <option value="" selected="" disabled="disabled">-- Select --</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <label class="text-grey-800 no-margin-bottom">POSITION TITLE <span class="text-danger">*</span></label>
                                                            <input class="form-control" readonly="readonly" />
                                                        </div>

                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <div class="row">


                                                        <div class="col-md-3">
                                                            <label class="text-grey-800 no-margin-bottom">TIN <span class="text-danger">*</span></label>
                                                            <input class="form-control" readonly="readonly" />
                                                        </div>


                                                        <div class="col-md-3">
                                                            <label class="text-grey-800 no-margin-bottom">NET WORTH <span class="text-danger">*</span></label>
                                                            <input class="form-control" type="number" />
                                                        </div>

                                                        <div class="col-md-3">
                                                            <div class="checkbox">
                                                                <label class="text-size-large" style="padding-left:18px;">
                                                                    Spouse in Govt. Service <input type="checkbox"  >
                                                                </label>
                                                            </div>
                                                            <div class="checkbox">
                                                                <label class="text-size-large" style="padding-left:18px;">
                                                                    Is Joint Filing <input type="checkbox">
                                                                </label>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>


                                                <div class="form-group">
                                                    <div class="row">

                                                        <div class="col-md-12">
                                                            <button class="btn btn-primary bg-blue-800">
                                                              <i class="icon-floppy-disk"></i>  Save SALN
                                                            </button>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>


                                    </div>
                                </div>*@

                            <!-- LIST -->
                            <div class="panel panel-flat">
                                @*<div class="panel-heading">
                                        <h5 class="panel-title">  SALN 2020 <span class="text-blue-800">{{workGroupData.workGroupName}}</span> </h5>
                                    </div>*@
                                <div class="panel-body">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th class="text-center">#</th>
                                                <th class="text-left">NAME OF EMPLOYEE</th>
                                                @*<th class="text-left">POSITION TITLE</th>*@
                                                <th class="text-center">TIN</th>
                                                <th class="text-center">NETWORTH</th>
                                                <th class="text-center" style="width:30%!important;">(IF SPOUSE IS WITH GOVT. SERVICE)</th>
                                                <th class="text-center">Is Joint Filing</th>

                                            </tr>
                                        </thead>
                                        <tr ng-repeat="item in emps">
                                            <td>
                                                {{$index+1}}
                                            </td>
                                            <td ng-click="selectEmployee(item)">
                                                <span class="text-blue-800 text-bold" style="cursor:pointer">{{item.lastName}}, {{item.firstname}}  {{item.middleName}}</span>
                                                <br />
                                                <small style="font-size:.85em; padding-top:0px;">
                                                    {{item.positionTitle}}
                                                </small>
                                            </td>

                                            <td class="text-center">
                                                {{item.TIN}}
                                            </td>
                                            <td class="text-right">
                                                {{item.netWorth | number:2}}
                                            </td>
                                            <td>
                                                <small>
                                                    {{item.spouseRemarks}}
                                                </small>
                                            </td>
                                            <td class="text-center">
                                                <span ng-show="item.isJointFiling == 1"> <i class="icon-check text-bold text-blue-700"></i> </span>
                                            </td>

                                        </tr>
                                    </table>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>


    <!-- SELECT DEPARTMENT -->
    <div id="modalDepartment" class="modal fade">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header bg-blue-800">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">Select Department</h5>
                </div>

                <div class="modal-body">
                    <div class="form-group">
                        <select class="form-control select2 select-Custom text-semibold" ng-model="data.departmentCode" style="width:100%;"
                                ng-options="item.departmentCode as item.shortDepartmentName for item in dept" value="{{item.departmentCode}}"
                                id="department">
                            <option value="" selected="">-- Select --</option>
                        </select>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary bg-blue-700" ng-disabled="bDisable" ng-click="departmentSelected(data)">
                        <i class="icon-check2"></i> Select Department
                    </button>

                </div>

            </div>
        </div>
        <!-- /vertical form modal -->
    </div>


    <!-- EDIT -->
    <div id="modalEntryForm" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-blue-800">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">  {{empData.lastName}}, {{empData.firstname}}  {{empData.middleName}}</h5>
                </div>

                <div class="modal-body">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <label class="text-grey-800 no-margin-bottom">NET WORTH<span class="text-danger">*</span></label>
                                <input class="form-control" type="number" ng-model="data.networth" />
                            </div>
                           
                          
                            <div class="col-md-4 col-lg-offset-2">
                                    <label class="text-grey-800 no-margin-bottom">TIN<span class="text-danger">*</span></label>
                                    <input class="form-control text-center text-semibold" type="text" ng-model="empData.TIN" readonly="readonly" />
                                </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">

                            <div class="col-md-12">
                                <label class="text-grey-800 no-margin-bottom">POSITION TITLE<span class="text-danger">*</span></label>
                                <input class="form-control text-left text-semibold" type="text" ng-model="empData.positionTitle" />
                            </div>

                        </div>
                    </div>


                    <div class="form-group">
                        <div class="row">

                            <div class="col-md-12">
                                <div class="checkbox">
                                    <label class="text-size-large" style="padding-left:18px;">
                                        Spouse in Govt. Service <input type="checkbox" ng-model="data.isSpouseGovtService">
                                    </label>

                                    <input class="form-control" ng-model="data.spouseRemarks" ng-disabled="!data.isSpouseGovtService" />

                                </div>
                            </div>

                        </div>
                    </div>


                    <div class="form-group">
                        <div class="row">

                            <div class="col-md-12">
                                <div class="checkbox">
                                    <label class="text-size-large" style="padding-left:18px;">
                                        Is Joint Filing <input type="checkbox" ng-model="data.isJointFiling" ng-disabled="!data.isSpouseGovtService">
                                    </label>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary bg-blue-700" ng-disabled="bDisable" ng-click="submitSALNData(data)">
                        <i class="icon-check2"></i> Update Data
                    </button>

                </div>

            </div>
        </div>
        <!-- /vertical form modal -->

    </div>

    <!-- EDIT -->
    <div id="modalAddForm" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-blue-800">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h5 class="modal-title">  Add Employee</h5>
                </div>

                <div class="modal-body">
                    
                    <div class="form-group">
                        <div class="row">

                            <div class="col-md-12">
                                <label class="text-grey-800 no-margin-bottom">EMPLOYEE NAME<span class="text-danger">*</span></label>
                                <select class="form-control select2 select-Custom text-semibold " ng-model="data.EIC" id="empList" style="width:100%;"
                                        ng-options="c.EIC as c.fullNameLast for c in empList" value="{{c.EIC}}">
                                    <option value="" selected="">-- Select --</option>
                                </select>
                            </div>

                        </div>
                    </div>
                     

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary bg-blue-700" ng-disabled="bDisable" ng-click="addEmployee(data)">
                        <i class="icon-check2"></i> Add to List
                    </button>

                </div>

            </div>
        </div>
        <!-- /vertical form modal -->

    </div>

</div>



<!-- /content area -->
@section JavaScript{
    <script src="~/Content/assets/plugins/toastr/toastr.min.js"></script>
    <script src="~/Content/assets/plugins/select2/select2.min.js"></script>
    <script src="~/Content/assets/plugins/moments/moment.js"></script>
    <script src="~/Scripts/AngularJS/RSPUtility/SALN.js"></script>

    <script>

        

        $("#empList").select2({
            placeholder: '-- Select --',
            allowClear: true
        });

        $("#department").select2({
            placeholder: '-- Select --',
            allowClear: true
        });

        $("#employee").select2({
            placeholder: '-- Select --',
            allowClear: true
        });


    </script>
}
