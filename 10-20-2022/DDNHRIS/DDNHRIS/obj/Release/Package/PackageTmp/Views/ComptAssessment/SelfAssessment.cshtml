@{
    ViewBag.Title = "Competency Test";
}

<link href="~/Content/assets/plugins/select2/select2.min.css" rel="stylesheet" />
<link href="~/Content/assets/plugins/toastr/toastr.min.css" rel="stylesheet" />
<link href="~/Content/assets/plugins/swal/sweetalert.css" rel="stylesheet" />
<link href="~/Content/assets/css/comptasstmntUI.css" rel="stylesheet" />

<style>
    .page-title {
        padding: 20px 36px 10px 0;
        display: block;
        position: relative;
    }

    .tbl-sm > tbody > tr > td, .tbl-sm > tbody > tr > th, .tbl-sm > thead > tr > td {
        padding: 5px 20px;
        line-height: 1.5384616;
        vertical-align: top;
    }
</style>
<link href="~/Content/assets/css/comptasstmntUI.css" rel="stylesheet" />
<div ng-controller="SelfAssessment">
    <!-- Page header -->
    <div class="page-header">
        <div class="page-header-content">
            <div class="page-title">
                <h4><i class="icon-books"></i> <span class="text-semibold">COMPETENCY ASSESSMENT</span> </h4>
            </div>
            <div class="heading-elements">

            </div>
        </div>

    </div>

    <!-- Content area -->
    <div class="content">
        <!-- User profile -->
        <div class="row">

            <div class="col-lg-12">
                <div class="tabbable">
                    <div class="tab-content">
                        <!-- MY ASSESSMENT -->
                        <div class="tab-pane fade in active">
                            <!-- Task manager table -->
                            <div class="panel panel-white" ng-show="tabId == 0">
                                <div class="panel-heading">
                                    <h5 class="no-margin text-semibold">My Competency Test</h5>
                                </div>

                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>ASSESSMENT NAME</th>
                                            <th style="width:120px!important;"></th>
                                        </tr>
                                    </thead>
                                    <tr ng-repeat="item in assessmentList">
                                        <td>
                                            {{$index+1}}
                                        </td>
                                        <td>
                                            {{item.assessmentName}}
                                        </td>
                                        <td>

                                            <button class="btn btn-primary btn-xs no-margin" ng-disabled="bDisable" ng-click="takeMyTest(item)" ng-show="item.tag == 0 || item.tag == 1" style="width:100%!important; display:block; padding:2px 5px;">

                                                <span ng-show="testLoading == false">Take the Test <i class="icon-arrow-right15"></i> </span>

                                                <span ng-show="testLoading == true">Wait..... <i class="icon-hour-glass"></i> </span>

                                            </button>

                                            <span class="label label-info " ng-show="item.tag == 2">
                                                <i class="icon-bell-check"></i> FOR VALIDATION
                                            </span>

                                            <span class="label label-success " ng-show="item.tag >= 3">
                                                <i class="icon-check2"></i> COMPLETED
                                            </span>

                                        </td>
                                    </tr>
                                </table>

                            </div>
                            <!-- /task manager table -->
                            <!--  APPLICATION DATA -->
                            <div class="container-detached" ng-show="tabId == 1">
                                <div class="content-detached">
                                    <!-- Course overview -->

                                    <div class="panel panel-white" >
                                        <div class="panel-heading">
                                            <h5 class="no-margin text-semibold text-blue-800">
                                                {{assessmentData.assessmentName}}
                                                <span class="pull-right cursor-pointer" ng-click="backToList()"><i class="icon-arrow-left16"></i></span>
                                            </h5>
                                        </div>

                                        <div class="row">
                                            <div class="col-sm-12">

                                                <div class="alert alert-warning no-border" ng-show="loading == true">
                                                    <button type="button" class="close" data-dismiss="alert"><span>&times;</span><span class="sr-only">Close</span></button>
                                                    <span class="text-semibold">Wait,</span> checking the availability of competency assessment...
                                                </div>

                                                @*<div class="alert alert-danger  no-margin-bottom" ng-show="competency.tag == 0">
                                                    <h5 class="text-danger-800 no-margin-bottom no-margin-top"> <i class="icon-warning"></i> Competency Assessment Test is temporary suspended, please try again later...</h5>
                                                </div>

                                                <div class="alert alert-success  no-margin-bottom" ng-show="competency.tag == 3">
                                                    <h5 class="no-margin-bottom no-margin-top"> <i class="icon-check"></i> Completed!</h5>
                                                </div>*@

                                                <!--COMPETENCY ASSESSMENT-->
                                                <div class="panel-body" ng-show="competency.tag == 1">
                                                    <div class="tabbable">
                                                        <ul class="nav nav-tabs nav-tabs-bottom" style="font-weight:bold;   ">
                                                            <li class="active"><a href="#tab1" data-toggle="tab">&nbsp; CORE &nbsp; </a></li>
                                                            <li><a href="#tab2" ng-hide="hideLeadTag" data-toggle="tab">LEADERSHIP</a></li>
                                                            <li><a href="#tab3" ng-hide="hideTechTag" data-toggle="tab">TECHNICAL</a></li>

                                                            <li><a href="#tab4" ng-show="psychoTest" data-toggle="tab">PSYCHO-SOCIAL</a></li>

                                                            <li class="pull-right" ng-show="lockAnswer == false">
                                                                <a href="#" class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown">
                                                                    <span class="pull-right  text-blue-600 text-bold text-size-mini " style="cursor:pointer; text-transform:uppercase; padding-top:5px;">
                                                                        <i class="icon icon-gear"></i> Option
                                                                    </span>
                                                                </a>
                                                                <ul class="dropdown-menu" style="font-size:.95em; font-weight:bold">
                                                                    <li ng-click="submitSelfAssessment()">
                                                                        <a href="#" style="padding:3px 10px;">
                                                                            <label>
                                                                                Submit Assessment <span class="icon icon-paperplane text-info"></span>
                                                                            </label>
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </li>

                                                        </ul>

                                                        <div class="tab-content">
                                                            <div class="tab-pane active" id="tab1">

                                                                <table class="table table-striped table-hover" style="width:100%; font-size:.9em;">
                                                                    <tr style="font-weight:bold; background-color:#a0c7ef ">
                                                                        <td style="width:15%;">
                                                                            RATING
                                                                        </td>
                                                                        <td style="width:85%;">
                                                                            DESCRIPTION
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>1 = BASIC</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has minimal knowledge and may demonstrate behaviors at certain times with some assistance.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>2 = INTERMEDIATE</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has sufficient knowledge and demonstrates the behavior or practice it/them most of the time with little assistance or supervision.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>3 = ADVANCED</strong>
                                                                        </td>
                                                                        <td>
                                                                            Teaches or mentors others in this competency; is considered a role model in the practice of this competency. Has consistently met the expectation of self and others. Demonstrates high quality work that has a positive impact.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>4 = SUPERIOR</strong>
                                                                        </td>
                                                                        <td>
                                                                            Exemplary; has overall mastery of this competency, understands and demonstrates it in all areas of life. Work is of a very high or exceptional quality and has significant impact.
                                                                        </td>
                                                                    </tr>
                                                                </table>



                                                                <section class="invoice" id="title-limiterC">
                                                                    <div style="width:100%;">

                                                                        <div class="box-body" ng-cloak ng-repeat="item in comptCoreList">

                                                                            <div class="box-header with-border" style="background-image:linear-gradient(to right,#a0c7ef,#fafbff);border-radius: 1px 1px; padding:5px">

                                                                                <table style="width:100%;">
                                                                                    <tr>
                                                                                        <td style="width:90%">
                                                                                            <label class="box-title" style="padding-bottom:0px; margin-bottom:0px;">
                                                                                                <span>
                                                                                                    <b style="text-decoration:underline;color: #134f7b;">{{item.orderNo}}.) {{item.comptName.toUpperCase()}}</b>
                                                                                                </span>
                                                                                            </label>
                                                                                            <p style="padding:0px; margin:0px;">
                                                                                                <span style="font-size:13px;color: #314e5d;">
                                                                                                    {{item.comptDesc}}
                                                                                                </span>
                                                                                            </p>

                                                                                        </td>
                                                                                        <td style="text-align:center; width:10%;">
                                                                                            <i class="icon-stack-plus text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to add main indicator" ng-if="comptTool == '3' " ng-click="addBehaviorMain(competency.comptCode)"></i>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>

                                                                            </div>

                                                                            <table class="table table-bordered table-striped" ng-if="item.comptTool == '3'" ng-disabled="lockAnswer">
                                                                                <thead>
                                                                                    <tr style="background-color:#e1e7ed;">
                                                                                        <td>
                                                                                            Indicator
                                                                                        </td>
                                                                                        <td>
                                                                                            Basic
                                                                                        </td>
                                                                                        <td>
                                                                                            Intermediate
                                                                                        </td>
                                                                                        <td>Advance</td>
                                                                                        <td>Superior</td>
                                                                                    </tr>
                                                                                </thead>

                                                                                <tbody ng-repeat="itm in item.KBIList">
                                                                                    <tr ng-if="itm.tag == 0">
                                                                                        <td colspan="5" style="background-color:#8dc4f1; padding-top:7px; padding-bottom:7px;">
                                                                                            <strong>  {{itm.header}}  </strong>
                                                                                        </td>
                                                                                    </tr>

                                                                                    <tr ng-if="itm.tag == 1" ng-disabled="lockAnswer">
                                                                                        <td>
                                                                                            <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                            <i ng-if="itm.answerSA != 0  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                            {{itm.KBI}}
                                                                                        </td>
                                                                                        <td align="center"><label ng-click="(submitAns(itm.KBICode, 1))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" /></label></td>
                                                                                        <td align="center"><label ng-click="(submitAns(itm.KBICode, 2))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" /></label></td>
                                                                                        <td align="center"><label ng-click="(submitAns(itm.KBICode, 3))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" /></label></td>
                                                                                        <td align="center"><label ng-click="(submitAns(itm.KBICode, 4))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" /></label></td>

                                                                                    </tr>
                                                                                </tbody>

                                                                            </table>


                                                                            <table class="table table-striped" ng-if="item.comptTool != '3' " ng-disabled="lockAnswer">
                                                                                <thead>
                                                                                    <tr style="background-color:#e1e7ed;">
                                                                                        <td></td>
                                                                                        @*<td>
                                                                                            Level
                                                                                        </td>*@

                                                                                        <td>
                                                                                            Basic
                                                                                        </td>
                                                                                        <td>
                                                                                            Intermediate
                                                                                        </td>
                                                                                        <td>Advance</td>
                                                                                        <td>Superior</td>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody ng-repeat="itm in item.KBIList">

                                                                                    <tr>
                                                                                        <td style="vertical-align:top">
                                                                                            <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                            <i ng-if="itm.answerSA != 0  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                        </td>
                                                                                        
                                                                                        <td style="vertical-align:top">
                                                                                            <label ng-click="(submitAns(itm.KBICode, 1))" ng-if="itm.basic.length > 0">
                                                                                                <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" />
                                                                                                {{itm.basic}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td style="vertical-align:top">
                                                                                            <label ng-click="(submitAns(itm.KBICode, 2))" ng-if="itm.intermediate.length > 1">
                                                                                                <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" />
                                                                                                {{itm.intermediate}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td style="vertical-align:top">
                                                                                            <label ng-click="(submitAns(itm.KBICode, 3))" ng-if="itm.advance.length > 2">
                                                                                                <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" />
                                                                                                {{itm.advance}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td style="vertical-align:top">
                                                                                            <label ng-click="(submitAns(itm.KBICode, 4))" ng-if="itm.superior.length > 4">
                                                                                                <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" />
                                                                                                {{itm.superior}}
                                                                                            </label>

                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>

                                                                            </table>

                                                                        </div>


                                                                    </div>
                                                                </section><br />

                                                            </div>
                                                            <div class="tab-pane" id="tab2">

                                                                <table class="table table-striped table-hover" style="width:100%; font-size:.9em;">
                                                                    <tr style="font-weight:bold; background-color:#a0c7ef ">
                                                                        <td style="width:15%;">
                                                                            RATING
                                                                        </td>
                                                                        <td style="width:85%;">
                                                                            DESCRIPTION
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>1 = BASIC</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has minimal knowledge and may demonstrate behaviors at certain times with some assistance.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>2 = INTERMEDIATE</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has sufficient knowledge and demonstrates the behavior or practice it/them most of the time with little assistance or supervision.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>3 = ADVANCED</strong>
                                                                        </td>
                                                                        <td>
                                                                            Teaches or mentors others in this competency; is considered a role model in the practice of this competency. Has consistently met the expectation of self and others. Demonstrates high quality work that has a positive impact.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>4 = SUPERIOR</strong>
                                                                        </td>
                                                                        <td>
                                                                            Exemplary; has overall mastery of this competency, understands and demonstrates it in all areas of life. Work is of a very high or exceptional quality and has significant impact.
                                                                        </td>
                                                                    </tr>
                                                                </table>


                                                                <section class="invoice" id="title-limiterL">

                                                                    <div class="box-body" ng-cloak ng-repeat="item in comptLeadList">

                                                                        <div class="box-header with-border" ng-hide="edit" style="background-image:linear-gradient(to right,#a0c7ef,#fafbff);border-radius: 1px 1px; padding:5px">

                                                                            <table style="width:100%;" ng-disabled="lockAnswer">
                                                                                <tr>
                                                                                    <td style="width:90%">
                                                                                        <label class="box-title" style="padding-bottom:0px; margin-bottom:0px;">
                                                                                            <span>
                                                                                                <b style="text-decoration:underline;color: #134f7b;">{{$index+1}}.) {{item.comptName.toUpperCase()}}</b> <i class="icon-pen text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to edit competency" ng-click="editCompetency(competency.comptCode)"></i>
                                                                                            </span>
                                                                                        </label>
                                                                                        <p style="padding:0px; margin:0px;">
                                                                                            <span style="font-size:13px;color: #314e5d;">
                                                                                                {{item.comptDesc}}
                                                                                            </span>
                                                                                        </p>

                                                                                    </td>
                                                                                    <td style="text-align:center; width:10%;">
                                                                                        <i class="icon-stack-plus text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to add main indicator" ng-if="comptTool == '3' " ng-click="addBehaviorMain(competency.comptCode)"></i>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>

                                                                        </div>

                                                                        <table class="table table-bordered table-striped" ng-if="item.comptTool == '3' " ng-disabled="lockAnswer">

                                                                            <thead>
                                                                                <tr style="background-color:#e1e7ed;">
                                                                                    <td>
                                                                                        Indicator
                                                                                    </td>
                                                                                    <td>
                                                                                        Basic
                                                                                    </td>
                                                                                    <td>
                                                                                        Intermediate
                                                                                    </td>
                                                                                    <td>Advance</td>
                                                                                    <td>Superior</td>
                                                                                </tr>
                                                                            </thead>

                                                                            <tbody ng-repeat="itm in item.KBIList">
                                                                                <tr>
                                                                                    <td>

                                                                                        <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                        <i ng-if="itm.answerSA != 0  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                        {{itm.KBI}}
                                                                                    </td>
                                                                                    <td align="center" style="vertical-align:top"><label ng-click="(submitAns(itm.KBICode, 1))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" /></label></td>
                                                                                    <td align="center" style="vertical-align:top"><label ng-click="(submitAns(itm.KBICode, 2))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" /></label></td>
                                                                                    <td align="center" style="vertical-align:top"><label ng-click="(submitAns(itm.KBICode, 3))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" /></label></td>
                                                                                    <td align="center" style="vertical-align:top"><label ng-click="(submitAns(itm.KBICode, 4))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" /></label></td>

                                                                                </tr>
                                                                            </tbody>

                                                                        </table>


                                                                        <table class="table table-striped" ng-if="item.comptTool != '3' " ng-disabled="lockAnswer">
                                                                            <thead>
                                                                                <tr style="background-color:#e1e7ed;">
                                                                                    <td></td>
                                                                                   
                                                                                    <td>
                                                                                        Basic
                                                                                    </td>
                                                                                    <td>
                                                                                        Intermediate
                                                                                    </td>
                                                                                    <td>Advance</td>
                                                                                    <td>Superior</td>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody ng-repeat="itm in item.KBIList">

                                                                                <tr>
                                                                                    <td style="vertical-align:top">                                                                                      
                                                                                        <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                        <i ng-if="itm.answerSA >= 1  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                    </td>
                                                                                   
                                                                                    <td style="vertical-align:top">
                                                                                        <label ng-click="(submitAns(itm.KBICode, 1))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" />
                                                                                            {{itm.basic}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td style="vertical-align:top">
                                                                                        <label ng-click="(submitAns(itm.KBICode, 2))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" />
                                                                                            {{itm.intermediate}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td style="vertical-align:top">
                                                                                        <label ng-click="(submitAns(itm.KBICode, 3))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" />
                                                                                            {{itm.advance}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td style="vertical-align:top">
                                                                                        <label ng-click="(submitAns(itm.KBICode, 4))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" />
                                                                                            {{itm.superior}}
                                                                                        </label>

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>

                                                                        </table>

                                                                    </div>

                                                                </section><br />

                                                            </div>

                                                            <div class="tab-pane" id="tab3">
                                                                
                                                                <table class="table table-striped table-hover" style="width:100%; font-size:.9em;">
                                                                    <tr style="font-weight:bold; background-color:#a0c7ef ">
                                                                        <td style="width:15%;">
                                                                            RATING
                                                                        </td>
                                                                        <td style="width:85%;">
                                                                            DESCRIPTION
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>1 = BASIC</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has minimal knowledge and may demonstrate behaviors at certain times with some assistance.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>2 = INTERMEDIATE</strong>
                                                                        </td>
                                                                        <td>
                                                                            Has sufficient knowledge and demonstrates the behavior or practice it/them most of the time with little assistance or supervision.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>3 = ADVANCED</strong>
                                                                        </td>
                                                                        <td>
                                                                            Teaches or mentors others in this competency; is considered a role model in the practice of this competency. Has consistently met the expectation of self and others. Demonstrates high quality work that has a positive impact.
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>4 = SUPERIOR</strong>
                                                                        </td>
                                                                        <td>
                                                                            Exemplary; has overall mastery of this competency, understands and demonstrates it in all areas of life. Work is of a very high or exceptional quality and has significant impact.
                                                                        </td>
                                                                    </tr>
                                                                </table>



                                                                <section class="invoice" id="title-limiterC">

                                                                    <div class="box-body" ng-cloak ng-repeat="item in compTechList">
                                                                       
                                                                        <div class="box-header with-border" ng-hide="edit" style="background-image:linear-gradient(to right,#a0c7ef,#fafbff);border-radius: 1px 1px; padding:5px">

                                                                            <table style="width:100%;" ng-disabled="lockAnswer">
                                                                                <tr>
                                                                                    <td style="width:90%">
                                                                                        <label class="box-title" style="padding-bottom:0px; margin-bottom:0px;">
                                                                                            <span>
                                                                                                <b style="text-decoration:underline;color: #134f7b;">{{$index+1}}.) {{item.comptName.toUpperCase()}}</b> <i class="icon-pen text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to edit competency" ng-click="editCompetency(competency.comptCode)"></i>
                                                                                            </span>
                                                                                        </label>
                                                                                        <p style="padding:0px; margin:0px;">
                                                                                            <span style="font-size:13px;color: #314e5d;">
                                                                                                {{item.comptDesc}}
                                                                                            </span>
                                                                                        </p>

                                                                                    </td>
                                                                                    <td style="text-align:center; width:10%;">
                                                                                        <i class="icon-stack-plus text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to add main indicator" ng-if="comptTool == '3' " ng-click="addBehaviorMain(competency.comptCode)"></i>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>

                                                                        </div>

                                                                        <table class="table table-bordered table-striped" ng-if="item.comptTool == '3' " ng-disabled="lockAnswer">

                                                                            <thead>
                                                                                <tr style="background-color:#e1e7ed;">

                                                                                    <td>
                                                                                        Indicator
                                                                                    </td>
                                                                                    <td>
                                                                                        Basic
                                                                                    </td>
                                                                                    <td>
                                                                                        Intermediate
                                                                                    </td>
                                                                                    <td>Advance</td>
                                                                                    <td>Superior</td>
                                                                                </tr>
                                                                            </thead>

                                                                            <tbody ng-repeat="itm in item.KBIList">
                                                                                <tr>
                                                                                    <td>
                                                                                        <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                        <i ng-if="itm.answerSA >= 1  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                        {{itm.KBI}}
                                                                                    </td>
                                                                                    <td align="center"><label ng-click="(submitAns(itm.KBICode, 1))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" /></label></td>
                                                                                    <td align="center"><label ng-click="(submitAns(itm.KBICode, 2))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" /></label></td>
                                                                                    <td align="center"><label ng-click="(submitAns(itm.KBICode, 3))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" /></label></td>
                                                                                    <td align="center"><label ng-click="(submitAns(itm.KBICode, 4))"><input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" /></label></td>

                                                                                </tr>
                                                                            </tbody>

                                                                        </table>


                                                                        <table class="table table-striped" ng-if="item.comptTool != '3' " ng-disabled="lockAnswer">
                                                                            <thead>
                                                                                <tr style="background-color:#e1e7ed;">

                                                                                    <td></td>
                                                                                    @*<td>
                                                                                            Level
                                                                                        </td>*@

                                                                                    <td>
                                                                                        Basic
                                                                                    </td>
                                                                                    <td>
                                                                                        Intermediate
                                                                                    </td>
                                                                                    <td>Advance</td>
                                                                                    <td>Superior</td>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody ng-repeat="itm in item.KBIList">

                                                                                <tr>
                                                                                    <td>
                                                                                        @*{{itm.answerSA}}*@
                                                                                        <i ng-if="itm.answerSA == 0 ||  itm.answerSA == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                        <i ng-if="itm.answerSA != 0 &&  itm.answerSA != null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                    </td>
                                                                                    @*<td>
                                                                                            <b> {{itm.comptLevel}} </b>
                                                                                        </td>*@
                                                                                    <td>
                                                                                        <label ng-click="(submitAns(itm.KBICode, 1))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="1" />
                                                                                            {{itm.basic}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitAns(itm.KBICode, 2))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="2" />
                                                                                            {{itm.intermediate}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitAns(itm.KBICode, 3))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="3" />
                                                                                            {{itm.advance}}
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitAns(itm.KBICode, 4))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answerSA" ng-value="4" />
                                                                                            {{itm.superior}}
                                                                                        </label>

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>

                                                                        </table>

                                                                    </div>


                                                                </section><br />


                                                            </div>

                                                            <div class="tab-pane" id="tab4">

                                                                <section class="invoice" id="title-limiterC">

                                                                    <div class="box-body" ng-cloak @*ng-repeat="item in psychoTest"*@>

                                                                        <div class="box-header with-border" ng-hide="edit" style="background-image:linear-gradient(to right,#a0c7ef,#fafbff);border-radius: 1px 1px; padding:5px">

                                                                            <table style="width:100%;" ng-disabled="lockAnswer">
                                                                                <tr>
                                                                                    <td style="width:90%">

                                                                                        <h5> PSYCHO-SOCIAL/POTENTIAL TEST</h5>

                                                                                    </td>
                                                                                    <td style="text-align:center; width:10%;">
                                                                                        <i class="icon-stack-plus text-blue-800" style="font-size:16px; cursor:pointer" data-toggle="tooltip" title="Click to add main indicator" ng-if="comptTool == '3' " ng-click="addBehaviorMain(competency.comptCode)"></i>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>

                                                                        </div>


                                                                        <table class="table table-striped table-hover" style="width:100%; font-size:.9em;">
                                                                            <tr style="font-weight:bold; background-color:#a0c7ef ">
                                                                                <td style="width:30%!important; text-align:center;">
                                                                                    <strong>KEY</strong>
                                                                                </td>
                                                                                <td>
                                                                                    <strong>1 = STRONGLY DISAGREE</strong>
                                                                                </td>
                                                                                <td>
                                                                                    <strong>2 = DISAGREE</strong>
                                                                                </td>

                                                                                <td>
                                                                                    <strong>3 = NEUTRAL</strong>
                                                                                </td>

                                                                                <td>
                                                                                    <strong>4 = AGREE</strong>
                                                                                </td>

                                                                                <td>
                                                                                    <strong>5 = STRONGLY AGREE</strong>
                                                                                </td>
                                                                            </tr>
                                                                        </table>




                                                                        <table class="table table-striped table-bordered" ng-disabled="lockAnswer">
                                                                            <thead>
                                                                                <tr style="background-color:#e1e7ed;">
                                                                                    <td>
                                                                                        Question
                                                                                    </td>
                                                                                    <td>
                                                                                        1
                                                                                    </td>

                                                                                    <td>
                                                                                        2
                                                                                    </td>
                                                                                    <td>
                                                                                        3
                                                                                    </td>
                                                                                    <td>
                                                                                        4
                                                                                    </td>
                                                                                    <td>
                                                                                        5
                                                                                    </td>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody ng-repeat="itm in psychoTest">

                                                                                <tr>
                                                                                    <td>
                                                                                        <i ng-if="itm.answer == 0 ||  itm.answer == null" class="icon-exclamation text-danger-800" style="font-size:1.8em;"></i>
                                                                                        <i ng-if="itm.answer >= 1  " class="icon-check2 text-success-800" style="font-size:1.8em;"></i>
                                                                                        {{itm.orderNo}}.) &nbsp; {{itm.question}}
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitPsychoAns(itm.psychoCode, 1))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answer" ng-value="1" />
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitPsychoAns(itm.psychoCode, 2))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answer" ng-value="2" />
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitPsychoAns(itm.psychoCode, 3))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answer" ng-value="3" />
                                                                                        </label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitPsychoAns(itm.psychoCode, 4))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answer" ng-value="4" />
                                                                                        </label>

                                                                                    </td>
                                                                                    <td>
                                                                                        <label ng-click="(submitPsychoAns(itm.psychoCode, 5))">
                                                                                            <input required type="radio" class="option-input radio" ng-model="itm.answer" ng-value="5" />
                                                                                        </label>

                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>

                                                                        </table>

                                                                    </div>


                                                                </section><br />

                                                                <section class="text-center">
                                                                    <button class="btn btn-primary bg-blue-700" ng-click="submitSelfAssessment()">
                                                                        Submit Assessment &nbsp; <i class="icon-paperplane"></i>
                                                                    </button>
                                                                </section>

                                                             

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/COMPETENCY ASSESSMENT-->


                                            </div>

                                        </div>
                                    </div>



                                    <!-- /course overview -->

                                </div>
                            </div>

                        </div>

                    </div>
                </div>


            </div>

        </div>




    </div>

    <!-- Modal APPOINTMENT CREATE-->
    <div class="modal fade" id="modalReminder" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="form-section" style="margin-top:0px; padding-top:0px;"><i class="icon-puzzle4"></i>  <span class="text-semibold text-blue-700"> {{assessmentData.assessmentName}} </span> </h5>
                </div>
                <div class="modal-body">

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <h4>
                                    This is a competency test, assess yourself according to your current competency. There is no right or wrong answer and this is not time bounded. Answer at your own pace.
                                </h4>
                            </div>

                        </div>
                    </div>

                </div>
                <div class="modal-footer text-center">
                    <button type="button" class="btn btn-secondary btn-rounded  " ng-disabled="bDisable" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary bg-blue-800 btn-rounded " ng-disabled="bDisable" ng-click="startComptAssessment(item)">
                        Start Competency Test
                        <i class="icon-arrow-right15"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- /content area -->
@section JavaScript{
    <script src="~/Content/assets/plugins/swal/sweetalert.min.js"></script>
    <script src="~/Content/assets/plugins/toastr/toastr.min.js"></script>
    <script src="~/Content/assets/plugins/select2/select2.min.js"></script>
    <script src="~/Content/assets/plugins/moments/moment.js"></script>
    <script src="~/Scripts/AngularJS/ComptAssessment/SelfAssessment.js"></script>

    <script>

        $("#eligibility").select2({
            placeholder: '-- Select --',
            allowClear: true
        });
    </script>

}


